---
import Layout from '../../layouts/Layout.astro';
import PostList from '../../components/PostList.astro';
import { getCollection } from 'astro:content';
import type { CollectionEntry } from 'astro:content';

const posts: CollectionEntry<'blog'>[] = await getCollection('blog', ({ data }) => !data.draft);
const sortedPosts = posts.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout title="Blog - Shedrack Akintayo">
  <div class="container mx-auto max-w-3xl px-4 py-16">
    <section class="py-12">
      <h1 class="text-4xl font-bold tracking-tight">Blog</h1>
      <p class="mt-4 text-muted-foreground">
        Thoughts on DevOps, cloud architecture, and technical writing.
      </p>
    </section>

    <section class="py-8">
      <PostList posts={sortedPosts} />
    </section>
  </div>
</Layout>
